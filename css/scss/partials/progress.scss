// Pull globals for individually compiled css files
@import '../globals/allGlobals';

/* ==========================================================================
    Progress -- Version: 0.2.1 - Compiled: #{timestamp()}
   ========================================================================== */

progress[value] {
  position: relative;
  width: 100%;
  height: 1.5em;
  @include padding($padding / 2, 0);
  border: none;
  color: $color-primary-red;
  -webkit-appearance: none;
  appearance: none;
  @include transition(height, .5s, ease);

  @-moz-document url-prefix() {
    height: .5em;
    @include padding;
  }

  &::-webkit-progress-bar,
  &::-moz-progress-bar,
  &::progress-bar {
    background: $color-light-grey;
  }

  // This repetition is deliberate
  &::-moz-progress-bar {
    height: .5em;
    @include padding;
    background: $color-primary-red;
  }

  &::-webkit-progress-value {
    position: relative;
    background: $color-primary-red;
    @include transition(width, .5s, ease-in-out);

    &:after {
      position: absolute;
      content: '';
      width: .25em;
      height: 100%;
      right: 0;
      background: $color-white;
      -webkit-animation: pulsate 1s ease-out infinite;
      opacity: .5;
    }
  }
}

@-webkit-keyframes pulsate {
    0% { opacity: .25; }
    50% { opacity: .5; }
    100% { opacity: .25; }
}

/* Fallback */
.progress-bar {
  @include inline-block;
  width: 100%;
  height: .25em;
  background: $color-light-grey;
}

.progress-bar span {
  display: block;
  height: .25em;
  background-color: $color-primary-red;
  text-indent: -9999px;
}
